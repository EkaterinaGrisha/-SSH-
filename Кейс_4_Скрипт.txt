nano ssh_keys.sh

#!/bin/bash

# Работа с ключами SSH
echo "=== Генерация и настройка SSH-ключей ==="

# Генерация пары ключей
echo "1. Генерируем пару SSH-ключей..."
ssh-keygen -t rsa -b 4096 -f ~/.ssh/id_rsa -N ""

# Запрос данных для подключения
read -p "Введите имя пользователя: " username
read -p "Введите IP-адрес сервера: " ip_address

# Копируем публичный ключ на сервер
echo "2. Копируем публичный ключ на удаленный сервер..."
ssh-copy-id $username@$ip_address

# Подключаемся без пароля
echo "3. Подключаемся к серверу без пароля..."
ssh $username@$ip_address "echo 'Успешное подключение без пароля!'"

chmod +x ssh_keys.sh
./ssh_keys.sh